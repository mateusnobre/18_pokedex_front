{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/mateusn/web_dev_projects/pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/home/mateusn/web_dev_projects/pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import{useState,useEffect,useContext}from'react';import{useParams,Link}from'react-router-dom';import styled from\"styled-components\";import axios from\"axios\";import Header from\"../components/Header\";import Footer from\"../components/Footer\";import Button from\"../components/Button\";import PokemonsContext from\"../contexts/PokemonsContext\";import UserContext from\"../contexts/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function PokemonPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),pokemon=_useState2[0],setPokemon=_useState2[1];var _useContext=useContext(PokemonsContext),pokemons=_useContext.pokemons,updatePokemons=_useContext.updatePokemons;var _useContext2=useContext(UserContext),token=_useContext2.token;useEffect(function(){if(pokemons){setPokemon(pokemons.find(function(pokemon){return pokemon.id===parseInt(id);}));}},[id,pokemons]);function togglePokemon(){if(pokemon.inMyPokemons){axios.post(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/my-pokemons/\").concat(id,\"/remove\"),null,{headers:{Authorization:\"Bearer \".concat(token.token)}}).then(function(){updatePokemons();});}else{axios.post(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/my-pokemons/\").concat(id,\"/add\"),null,{headers:{Authorization:\"Bearer \".concat(token.token)}}).then(function(){updatePokemons();});}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Container,{children:!pokemon?\"Pokémon not found!\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(NavButton,{children:id>1&&/*#__PURE__*/_jsx(Link,{to:\"/pokemon/\".concat(parseInt(id)-1),children:\"\\u2039\"})}),/*#__PURE__*/_jsxs(PokemonContainer,{children:[/*#__PURE__*/_jsx(\"img\",{src:pokemon.image,alt:pokemon.name}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:pokemon.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"id\",children:[\"#\",id]})]}),/*#__PURE__*/_jsx(NavButton,{children:id<893&&/*#__PURE__*/_jsx(Link,{to:\"/pokemon/\".concat(parseInt(id)+1),children:\"\\u203A\"})})]}),/*#__PURE__*/_jsxs(Section,{center:true,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Weight\"}),/*#__PURE__*/_jsx(\"div\",{children:pokemon.weight})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Height\"}),/*#__PURE__*/_jsx(\"div\",{children:pokemon.height})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Base XP\"}),/*#__PURE__*/_jsx(\"div\",{children:pokemon.baseExp})]})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Description\"}),pokemon.description]})})]}),/*#__PURE__*/_jsxs(Button,{onClick:togglePokemon,children:[pokemon.inMyPokemons?'Remove from':'Add to',\" My Pok\\xE9mons\"]})]})}),/*#__PURE__*/_jsx(Footer,{})]});}var Section=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    background: #FFF;\\n    box-shadow: 0 0 10px 5px rgba(0,0,0,0.1);\\n    border-radius: 30px;\\n    display: flex;\\n    justify-content: \",\";\\n    align-items: center;\\n    margin-bottom: 20px;\\n    padding: 20px 0;\\n    flex-wrap: wrap;\\n\"])),function(props){return props.center?'center':'space-between';});var Row=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-shrink: 0;\\n    width: 100%;\\n    justify-content: space-around;\\n    &:not(:last-child) {\\n        margin-bottom: 20px;\\n    }\\n\"])));var Card=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-evenly;\\n    align-items: center;\\n\\n    .title {\\n        color: #aaa;\\n        margin-bottom: 10px;\\n    }\\n\"])));var Container=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    margin: 85px 0 65px;\\n    padding: 25px 0;\\n    background-color: #F2F2F2;\\n    padding: 20px;\\n    min-height: calc(100vh - 150px);\\n\"])));var PokemonContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n\"])));var NavButton=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    cursor: pointer;\\n    height: 100%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    width: 50px;\\n    font-size: 48px;\\n    color: #AAA;\\n\\n    &:hover {\\n        filter: brightness(0.8);\\n    }\\n\"])));","map":{"version":3,"sources":["/home/mateusn/web_dev_projects/pokedex/src/pages/Pokemon.js"],"names":["useState","useEffect","useContext","useParams","Link","styled","axios","Header","Footer","Button","PokemonsContext","UserContext","PokemonPage","id","pokemon","setPokemon","pokemons","updatePokemons","token","find","parseInt","togglePokemon","inMyPokemons","post","process","env","REACT_APP_API_BASE_URL","headers","Authorization","then","image","name","weight","height","baseExp","description","Section","div","props","center","Row","Card","Container","PokemonContainer","NavButton"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport Button from \"../components/Button\";\n\nimport PokemonsContext from \"../contexts/PokemonsContext\";\nimport UserContext from \"../contexts/UserContext\";\n\nexport default function PokemonPage() {\n    const { id } = useParams();\n    const [pokemon, setPokemon] = useState(null);\n    const { pokemons, updatePokemons } = useContext(PokemonsContext);\n    const { token } = useContext(UserContext);\n    \n    useEffect(() => {\n        if (pokemons) {\n            setPokemon(pokemons.find(pokemon => pokemon.id === parseInt(id)));\n        }\n    }, [id, pokemons]);\n\n    function togglePokemon() {\n        if (pokemon.inMyPokemons) {\n            axios.post(`${process.env.REACT_APP_API_BASE_URL}/my-pokemons/${id}/remove`, null, {\n                headers: {\n                    Authorization: `Bearer ${token.token}`\n                }\n            }).then(() => {\n                updatePokemons();\n            });\n        } else {\n            axios.post(`${process.env.REACT_APP_API_BASE_URL}/my-pokemons/${id}/add`, null, {\n                headers: {\n                    Authorization: `Bearer ${token.token}`\n                }\n            }).then(() => {\n                updatePokemons();\n            });\n        }\n    }\n\n    return (\n        <>\n            <Header />\n\n            <Container>\n                {\n                    !pokemon\n                      ? \"Pokémon not found!\"\n                      : <>\n                            <Section>\n                                <NavButton>\n                                    {(id > 1) && (\n                                        <Link to={`/pokemon/${parseInt(id)-1}`}>\n                                            ‹\n                                        </Link>\n                                    )}\n                                </NavButton>\n                                <PokemonContainer>\n                                    <img src={pokemon.image} alt={pokemon.name} />\n                                    <span className=\"name\">{pokemon.name}</span>\n                                    <span className=\"id\">#{id}</span>\n                                </PokemonContainer>\n                                <NavButton>\n                                    {(id < 893) && (\n                                        <Link to={`/pokemon/${parseInt(id)+1}`}>\n                                            ›\n                                        </Link>\n                                    )}\n                                </NavButton>\n                            </Section>\n\n                            <Section center>\n                                <Row>\n                                    <Card>\n                                        <div className=\"title\">Weight</div>\n                                        <div>{pokemon.weight}</div>\n                                    </Card>\n                                    <Card>\n                                        <div className=\"title\">Height</div>\n                                        <div>{pokemon.height}</div>\n                                    </Card>\n                                    <Card>\n                                        <div className=\"title\">Base XP</div>\n                                        <div>{pokemon.baseExp}</div>\n                                    </Card>\n                                </Row>\n                                <Row>\n                                    <Card>\n                                        <div className=\"title\">Description</div>\n                                        {pokemon.description}\n                                    </Card>\n                                </Row>\n                            </Section>\n\n                            <Button onClick={togglePokemon}>{pokemon.inMyPokemons ? 'Remove from' : 'Add to'} My Pokémons</Button>\n                        </>\n                }\n            </Container>\n\n            <Footer />\n        </>\n    )\n}\n\nconst Section = styled.div`\n    width: 100%;\n    background: #FFF;\n    box-shadow: 0 0 10px 5px rgba(0,0,0,0.1);\n    border-radius: 30px;\n    display: flex;\n    justify-content: ${props => props.center ? 'center': 'space-between'};\n    align-items: center;\n    margin-bottom: 20px;\n    padding: 20px 0;\n    flex-wrap: wrap;\n`;\n\nconst Row = styled.div`\n    display: flex;\n    flex-shrink: 0;\n    width: 100%;\n    justify-content: space-around;\n    &:not(:last-child) {\n        margin-bottom: 20px;\n    }\n`;\n\nconst Card = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n\n    .title {\n        color: #aaa;\n        margin-bottom: 10px;\n    }\n`;\n\nconst Container = styled.div`\n    margin: 85px 0 65px;\n    padding: 25px 0;\n    background-color: #F2F2F2;\n    padding: 20px;\n    min-height: calc(100vh - 150px);\n`;\n\nconst PokemonContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst NavButton = styled.div`\n    cursor: pointer;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 50px;\n    font-size: 48px;\n    color: #AAA;\n\n    &:hover {\n        filter: brightness(0.8);\n    }\n`;\n"]},"metadata":{},"sourceType":"module"}